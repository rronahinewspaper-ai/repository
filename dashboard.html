<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù†Ø¸Ø§Ù… Ø´Ø¤ÙˆÙ† Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</title>

<style>
*{box-sizing:border-box;margin:0;font-family:"Segoe UI",Tahoma}
body{background:#f1f5f9;color:#0f172a}

/* ===== LAYOUT ===== */
.dashboard{display:flex;min-height:100vh}

/* ===== SIDEBAR ===== */
.sidebar{
  width:260px;
  background:#0f172a;
  color:white;
  position:fixed;
  right:0;
  top:0;
  height:100vh;
  padding:25px 15px;
}
.logo{
  text-align:center;
  margin-bottom:40px;
}
.logo img{
  width:120px;
  height: 120px;
  border-radius:50%;
}
.logo h3{margin-top:10px;font-weight:600}

.sidebar a{
  display:block;
  padding:14px 16px;
  margin-bottom:8px;
  border-radius:10px;
  color:#cbd5f5;
  text-decoration:none;
  cursor:pointer;
  transition:.25s;
}
.sidebar a:hover,
.sidebar a.active{
  background:#1e293b;
  color:white;
}

/* ===== CONTENT ===== */
.content{
  margin-right:260px;
  padding:35px;
  width:100%;
}

/* ===== PAGES ===== */
.page{display:none}
.page.active{display:block}

/* ===== DASHBOARD CARDS ===== */
.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:25px;
  margin-top:25px;
}
.stat{
  background:white;
  padding:25px;
  border-radius:16px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}
.stat h2{font-size:32px;color:#2563eb}
.stat p{color:#64748b;margin-top:8px}

/* ===== TABLE ===== */
.card{
  background:white;
  padding:25px;
  border-radius:16px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  margin-top:25px;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:14px;
  text-align:center;
  border-bottom:1px solid #e2e8f0;
}
th{color:#475569;font-weight:600}

/* ===== FORM ===== */
form{
  max-width:600px;
  margin:auto;
  background:white;
  padding:35px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.1);
}
input,select{
  width:100%;
  padding:14px;
  margin-bottom:18px;
  border-radius:10px;
  border:1px solid #cbd5e1;
}
button{
  width:100%;
  padding:14px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

/* ===== STATUS ===== */
.status.active{color:#16a34a;font-weight:600}
.status.inactive{color:#dc2626;font-weight:600}

.status.active{
  color:#16a34a;
  font-weight:bold;
}

.status.inactive{
  color:#dc2626;
  font-weight:bold;
}

.btn{
  padding:6px 12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  color:white;
}

.btn.active{
  background:#16a34a;
}

.btn.inactive{
  background:#dc2626;
}
#searchInput
{
  margin-top: 30px;
}
#form
{
margin-top: 40px;
}

.status.active { color:#16a34a; font-weight:bold; }
.status.inactive { color:#dc2626; font-weight:bold; }
.btn { padding:6px 12px; border:none; border-radius:8px; cursor:pointer; color:white; }
.btn.active { background:#16a34a; }
.btn.inactive { background:#dc2626; }

.btn.active-btn { background:#28a745; }  /* Ø£Ø®Ø¶Ø± Ù„Ù„Ù…Ù†ØªØ¸Ù… */
.btn.inactive-btn { background:#dc3545; } /* Ø£Ø­Ù…Ø± Ù„Ù„Ù…ÙˆÙ‚ÙˆÙ */
.sidebar a.active { background:#334155; }  /* Ø£Ø²Ø±Ù‚ ØºØ§Ù…Ù‚ */
 
.stats
{
 margin-right: 250px;
}

.edit-btn{
  background: transparent;   /* Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ© */
  border: none;
  cursor: pointer;
  font-size: 18px;
  margin-right: 8px;
  color: #475569;            /* Ø±Ù…Ø§Ø¯ÙŠ Ø£Ù†ÙŠÙ‚ */
}

.edit-btn:hover{
  color: #2563eb;            /* Ø£Ø²Ø±Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */
}


.edit-btn{
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 18px;
  margin-right: 6px;
}
.delete-btn{
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 18px;
}

.delete-btn{
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 18px;
  color: #dc2626;
  margin-right: 6px;
}
.delete-btn:hover{
  color:#991b1b;
}

button{
  width:100%;
  padding:14px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

#editModal button{
  width:auto;
  padding:10px 18px;
}
#editModal input{
  width:100%;
  padding:10px;
  margin-bottom:12px;
  border-radius:10px;
  border:1px solid #cbd5e1;
  font-size:14px;
}
#editModal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:9999;

  /* ÙŠØ¬Ø¹Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
  display:flex;
  align-items:center;
  justify-content:center;
}

.edit-actions{
  position:sticky;
  bottom:0;
  background:white;
  padding-top:10px;
}

.staffTable{
  width: 50%;
  align-items: center;
  justify-content: center;
  
}


/* ===== Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³ ===== */
.staff-card{
  max-width: 1100px;
  margin: 40px auto;   /* ØªÙˆØ³ÙŠØ· ÙÙŠ Ø§Ù„ØµÙØ­Ø© */
}

.staff-table{
  width: 100%;
  font-size: 16px;     /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø· */
  

}

.staff-table th{
  background:#f8fafc;
  font-size: 17px;
  padding: 16px;
}

.staff-table td{
  padding: 14px;
  font-size: 15px;
}

/* ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
#staff h1{
  text-align: center;
  margin-bottom: 20px;
}
.card
{
  align-items: center;
  align-content: center;
}
#staffTable
{
  width: 100%;
  margin: 40px;
  
}
#staff
{
  min-width: 200vh;
}

/* ===== ØªÙ†Ø³ÙŠÙ‚ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ===== */

.course-dept-card{
  margin-bottom: 30px;
  border-radius: 18px;
}

.course-dept-card h2{
  text-align: center;
  margin-bottom: 20px;
  color:#1e293b;
}

.course-year{
  margin-bottom: 20px;
}

.course-year h3{
  background:#e2e8f0;
  padding:10px 15px;
  border-radius:10px;
  color:#334155;
  margin-bottom: 10px;
}

/* Ø§Ù„ÙØµÙ„ */
.course-semester{
  background:#f8fafc;
  border:1px solid #e2e8f0;
  border-radius:14px;
  padding:15px;
  margin-bottom: 15px;
}

.course-semester strong{
  display:block;
  margin-bottom:10px;
  color:#2563eb;
}

/* Ø§Ù„Ù…ÙˆØ§Ø¯ */
.course-list{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.course-item{
  background:#2563eb;
  color:white;
  padding:6px 14px;
  border-radius:20px;
  font-size:14px;
}

/* ===== ØªÙ†Ø³ÙŠÙ‚ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ===== */

/* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø³Ù… */
.course-dept-card{
  background:white;
  border-radius:18px;
  padding:25px;
  margin-bottom:35px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}

/* Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… */
.course-dept-card h2{
  text-align:center;
  margin-bottom:25px;
  color:#1e293b;
}

/* ===== Ø§Ù„Ø³Ù†Ø© (ÙØ¶ÙŠ) ===== */
.course-year{
  background:linear-gradient(135deg,#e5e7eb,#f8fafc);
  padding:15px 20px;
  border-radius:14px;
  margin-bottom:20px;
  border-right:6px solid #94a3b8;
}

.course-year h3{
  margin-bottom:15px;
  color:#334155;
  font-size:18px;
}

/* ===== Ø§Ù„ÙØµÙ„ ===== */
.course-semester{
  background:#ffffff;
  border:1px solid #e2e8f0;
  border-radius:12px;
  padding:15px;
  margin-bottom:15px;
}

.course-semester strong{
  display:block;
  margin-bottom:12px;
  color:#2563eb;
  font-size:15px;
}

/* ===== Ø§Ù„Ù…ÙˆØ§Ø¯ ===== */
.course-list{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.course-item{
  background:#2563eb;
  color:white;
  padding:6px 16px;
  border-radius:20px;
  font-size:14px;
}



</style>


</head>

<body>

<div class="dashboard">

<!-- ===== SIDEBAR ===== -->
<div class="sidebar">
  <div class="logo">
    <img src="images/logo.jfif" id="">
    <h3>Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨</h3>
  </div>
  <a class="active" onclick="showPage('dashboard',this)">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
  <a onclick="showPage('students',this)">Ø§Ù„Ø·Ù„Ø§Ø¨</a>
  <a onclick="showPage('faculties',this)">Ø§Ù„ÙƒÙ„ÙŠØ§Øª</a>
  <a onclick="showPage('departments',this)">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a>
  <a onclick="showPage('courses',this)">Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª</a>
  <a onclick="showPage('register',this)">Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</a>
  <a onclick="showPage('staff',this)">Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³</a>
</div>

<div class="content">

<!-- ===== DASHBOARD ===== -->
<div id="dashboard" class="page active">
  
  <div class="card" style="margin-top:20px;">
  <h3>Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</h3><br><br>

  <select id="facultySelect">
    <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</option>
    <option>ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</option>
    <option>ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</option>
    <option>ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ…</option>
    <!-- ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙ„ÙŠØ§Øª Ù‡Ù†Ø§ -->
  </select>

  <input type="text" id="departmentName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…">

 <button id="addBtn" onclick="addDepartment()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…</button>
</div>
  



<div class="card" style="margin-top:25px">
  <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø¯Ø±Ø³</h3><br>

  <input id="staffName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³">
  <input id="staffUniversity" placeholder="Ø®Ø±ÙŠØ¬/Ø© Ø¬Ø§Ù…Ø¹Ø©">
  <input id="staffExperience" placeholder="Ø§Ù„Ø®Ø¨Ø±Ø§Øª">

  <button onclick="addStaff()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯Ø±Ø³</button>
</div>
<div class="card" style="margin-top:25px">
  <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø±Ø±</h3><br>

  <select id="courseDept">
    <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…</option>
    <option>Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨</option>
    <option>Ù‡Ù†Ø¯Ø³Ø© Ø§ØªØµØ§Ù„Ø§Øª</option>
    <option>Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
  </select>

  <select id="courseYear">
    <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø©</option>
    <option>Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
    <option>Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
    <option>Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
    <option>Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
  </select>

  <select id="courseSemester">
    <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„ÙØµÙ„</option>
    <option>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„</option>
    <option>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
  </select>

  <input id="courseName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©">

  <button onclick="addCourseSystem()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø§Ø¯Ø©</button>
</div>

</div>





<!-- ===== STUDENTS ===== -->
<div id="students" class="page">
 

  <!-- Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… -->
  <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨..." 
  style="padding:8px 12px; width:100%; max-width:400px; margin-bottom:15px; border-radius:8px; border:1px solid #ccc;">
  <input type="text" id="idSearchInput"
       placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ..."
       style="padding:8px 12px; width:100%; max-width:400px; 
              margin-bottom:15px; border-radius:8px; border:1px solid #ccc;">

  <!-- Ø§Ù„ÙÙ„ØªØ± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© -->
  <select id="statusFilter" style="padding:8px 12px; width:100%; max-width:200px; margin-bottom:20px; border-radius:8px; border:1px solid #ccc;">
    <option value="all">Ø§Ù„ÙƒÙ„</option>
    <option value="active">Ù…Ù†ØªØ¸Ù…</option>
    <option value="inactive">Ù…ÙˆÙ‚ÙˆÙ</option>
  </select>
 <select id="departmentFilter"
  style="padding:8px 12px; width:100%; max-width:250px; margin-bottom:20px;
         border-radius:8px; border:1px solid #ccc;">
  <option value="all">ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>
  <option value="Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨">Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨</option>
  <option value="Ù‡Ù†Ø¯Ø³Ø© Ø§ØªØµØ§Ù„Ø§Øª">Ù‡Ù†Ø¯Ø³Ø© Ø§ØªØµØ§Ù„Ø§Øª</option>
  <option value="Ù‡Ù†Ø¯Ø³Ø© Ù…ÙŠÙƒØ§ØªØ±ÙˆÙ†ÙŠÙƒ">Ù‡Ù†Ø¯Ø³Ø© Ù…ÙŠÙƒØ§ØªØ±ÙˆÙ†ÙŠÙƒ</option>
  <option value="Ø±ÙŠØ§Ø¶ÙŠØ§Øª">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
  <option value="ÙÙŠØ²ÙŠØ§Ø¡">ÙÙŠØ²ÙŠØ§Ø¡</option>
  <option value="ÙƒÙŠÙ…ÙŠØ§Ø¡">ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
</select>

  <div class="card">
    <table id="studentsTableAdmin">
      <tr>
  <th>Ø§Ù„ØµÙˆØ±Ø©</th>
  <th>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</th>
  <th>ØªØ­ÙƒÙ…</th>
  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
  <th>Ø§Ù„Ø§Ø³Ù…</th>
  <th>Ø§Ù„ÙƒÙ„ÙŠØ©</th>
  <th>Ø§Ù„Ù‚Ø³Ù…</th>
  <th>Ù…ÙƒØ§Ù† Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©</th>
  <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</th>
  <th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
  <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
  <th>Ø§Ø³Ù… Ø§Ù„Ø£Ù…</th>
  <th>Ø§Ø³Ù… Ø§Ù„Ø£Ø¨</th>
 
  
  <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
  <th>Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„</th>
  <th>Ø§Ù„Ø¬Ù†Ø³</th>
</tr>


    </table><br><br>

     </div>

<div class="stats" style="display:flex; gap:30px;">
     <div class="stat" style="background:#f0f4f8; padding:20px; border-radius:10px; text-align:center;">
      <h2 id="studentCount">0</h2>
      <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„ÙƒÙ„ÙŠ</p>
     </div>
     <div class="stat" style="background:#f0f4f8; padding:20px; border-radius:10px; text-align:center;">
      <h2 id="activeCount">0</h2>
      <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¸Ù…ÙŠÙ†</p>
     </div>
     <div class="stat" style="background:#f0f4f8; padding:20px; border-radius:10px; text-align:center;">
      <h2 id="inactiveCount">0</h2>
      <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ‚ÙˆÙÙŠÙ†</p>

  </div>
  </div>
</div>



<!-- ===== FACULTIES ===== -->
<div id="faculties" class="page">
  
  <div class="card">
    <table id="facultiesTable">
  <tr>
    <th>Ø§Ø³Ù… Ø§Ù„ÙƒÙ„ÙŠØ©</th>
    <th>Ø§Ù„Ø¹Ù…ÙŠØ¯</th>
    <th>ØªØ­ÙƒÙ…</th>
  </tr>
  <tr>
    <td>ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</td>
    <td>Ø¯. Ù…Ø­Ù…Ø¯ Ø³Ø§Ù„Ù…</td>
    <td>
      <button class="edit-btn" onclick="editFaculty(this)">âœï¸</button>
    </td>
  </tr>
</table>
  </div>
</div>


<!-- ===== DEPARTMENTS ===== -->
<div id="departments" class="page">
 

  <div class="card">
    <table id="departmentsTable">
      <tr>
        <th>Ø±Ù‚Ù… Ø§Ù„Ù‚Ø³Ù…</th>
        <th>Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…</th>
        <th>Ø§Ù„ÙƒÙ„ÙŠØ©</th>
      </tr>
    </table>
  </div>
</div>

<!-- ===== COURSES ===== -->
<div id="courses" class="page">
  
  <div class="card">
    <div id="coursesContainer"></div>
  </div>
</div>



<!-- ===== REGISTER ===== -->
<!-- ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
<div id="register" class="page">
  <h1>Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</h1>
  <form id="form">
    <input type="file">
    <input placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ" required>
    <input placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
    <select required>
      <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</option>
      <option>ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</option>
    </select>
    <select required>
      <option disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…</option>
      <option>Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨</option>
      <option>Ù‡Ù†Ø¯Ø³Ø© Ø§ØªØµØ§Ù„Ø§Øª</option>
      <option>Ù‡Ù†Ø¯Ø³Ø© Ù…ÙŠÙƒØ§ØªØ±ÙˆÙ†ÙŠÙƒ</option>
      <option>Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø©</option>
      <option> Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
      <option>ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
      <option>ÙÙŠØ²ÙŠØ§Ø¡</option>




    </select>
            
<input placeholder="Ù…ÙƒØ§Ù† Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©">
<input type="date">
<input placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
<input placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ù…">
<input placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ø¨">
<select id="editGender">
  <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
  <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
</select>
 <button type="button" onclick="addStudentFromRegister()">
  ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨
</button>
  </form>
</div>

</div>


<!-- ===== STAFF ===== -->
<div id="staff" class="page" >
  <h1 class="page-title"> </h1>

  <div class="staff-wrapper">
    <div class="card">
      <table id="staffTable" >
        <tr>
          <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³</th>
          <th>Ø®Ø±ÙŠØ¬/Ø© Ø¬Ø§Ù…Ø¹Ø©</th>
          <th>Ø§Ù„Ø®Ø¨Ø±Ø§Øª</th>
          <th>ØªØ­ÙƒÙ…</th>
        </tr>
      </table>
    </div>
  </div>
</div>

</div>
</div>

<script>
function showPage(id,el){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.sidebar a').forEach(a=>a.classList.remove('active'));
  el.classList.add('active');
}
function registerStudent(e){
  e.preventDefault();
  alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
  e.target.reset();
}


</script>
<script>
function toggleStatus(button){
  const row = button.closest("tr");
  const statusCell = row.querySelector(".status");

  if(statusCell.classList.contains("active")){
    statusCell.classList.remove("active");
    statusCell.classList.add("inactive");
    statusCell.textContent = "Ù…ÙˆÙ‚ÙˆÙ";

    button.classList.remove("active");
    button.classList.add("inactive");
    button.textContent = "Ù…ÙˆÙ‚ÙˆÙ";
  } else {
    statusCell.classList.remove("inactive");
    statusCell.classList.add("active");
    statusCell.textContent = "Ù…Ù†ØªØ¸Ù…";

    button.classList.remove("inactive");
    button.classList.add("active");
    button.textContent = "Ù…Ù†ØªØ¸Ù…";
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙ„ØªØ± Ø¨Ø¹Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©
  filterTable();
}

// ===== Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø§Ø³Ù… =====
const searchInput = document.getElementById("searchInput");
const statusFilter = document.getElementById("statusFilter");

searchInput.addEventListener("keyup", filterTable);
statusFilter.addEventListener("change", filterTable);

function filterTable(){
  const filterText = searchInput.value.toLowerCase();
  const filterStatus = statusFilter.value;
  const table = document.getElementById("studentsTable");
  const trs = table.getElementsByTagName("tr");

  for(let i=1; i<trs.length; i++){ // ØªØ®Ø·ÙŠ ØµÙ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
    const tdName = trs[i].getElementsByTagName("td")[1]; // Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø§Ø³Ù…
    const tdStatus = trs[i].getElementsByTagName("td")[4]; // Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„Ø©
    if(tdName && tdStatus){
      const nameMatch = tdName.textContent.toLowerCase().includes(filterText);
      const statusMatch = (filterStatus === "all") || 
                          (filterStatus === "active" && tdStatus.classList.contains("active")) ||
                          (filterStatus === "inactive" && tdStatus.classList.contains("inactive"));

      trs[i].style.display = (nameMatch && statusMatch) ? "" : "none";
    }
  }
}
</script>

<script>
const form = document.getElementById("form");
const table = document.getElementById("studentsTable");
const searchInput = document.getElementById("searchInput");
const statusFilter = document.getElementById("statusFilter");

// Ø²Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„
document.getElementById('studentsLink')?.addEventListener('click', ()=> showPage('students', document.querySelector('#studentsLink')));

// ===== Ø§Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ =====
form.addEventListener("submit", function(e){
  e.preventDefault();
  const inputs = form.querySelectorAll("input, select");
  const studentData = Array.from(inputs).map(i => i.value);

  addStudent(...studentData, "active"); // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: Ù…Ù†ØªØ¸Ù…

  form.reset();
  alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
});

function addStudent(id, name, faculty, department, status){
  const row = table.insertRow(-1);

  row.insertCell(0).textContent = id;

  const nameCell = row.insertCell(1);
  nameCell.textContent = name;
  nameCell.classList.add("student-name");
  nameCell.onclick = function(){ openProfile(nameCell); };

  row.insertCell(2).textContent = faculty;
  row.insertCell(3).textContent = department;

  const statusCell = row.insertCell(4);
  statusCell.textContent = (status==="active") ? "Ù…Ù†ØªØ¸Ù…" : "Ù…ÙˆÙ‚ÙˆÙ";
  statusCell.className = "status " + status;

  const btnCell = row.insertCell(5);
  const btn = document.createElement("button");
  btn.className = "btn " + status;
  btn.textContent = (status==="active") ? "Ù…Ù†ØªØ¸Ù…" : "Ù…ÙˆÙ‚ÙˆÙ";
  btn.onclick = function(){ toggleStatus(btn); };
  btnCell.appendChild(btn);

  filterTable();
}

// ===== ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© =====
function toggleStatus(btn){
  const row = btn.parentElement.parentElement;
  const status = row.querySelector('.status');

  if(status.classList.contains('active')){
    status.className = 'status inactive';
    status.textContent = 'Ù…ÙˆÙ‚ÙˆÙ';
    btn.className = 'btn inactive-btn';
    btn.textContent = 'Ù…ÙˆÙ‚ÙˆÙ';
  } else {
    status.className = 'status active';
    status.textContent = 'Ù…Ù†ØªØ¸Ù…';
    btn.className = 'btn active-btn';
    btn.textContent = 'Ù…Ù†ØªØ¸Ù…'; 
  }

  updateStudentCount(); // âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø¨Ø¹Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©
}


// ===== Ø§Ù„Ø¨Ø­Ø« + ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© =====
searchInput.addEventListener("keyup", filterTable);
statusFilter.addEventListener("change", filterTable);

function filterTable(){
  const filterText = searchInput.value.toLowerCase();
  const filterStatus = statusFilter.value;
  const trs = table.getElementsByTagName("tr");

  for(let i=1; i<trs.length; i++){
    const tdName = trs[i].cells[1];
    const tdStatus = trs[i].cells[4];
    if(tdName && tdStatus){
      const nameMatch = tdName.textContent.toLowerCase().includes(filterText);
      const statusMatch = (filterStatus==="all") ||
                          (filterStatus==="active" && tdStatus.classList.contains("active")) ||
                          (filterStatus==="inactive" && tdStatus.classList.contains("inactive"));
      trs[i].style.display = (nameMatch && statusMatch) ? "" : "none";
    }
  }
}

// ===== ØªØºÙŠÙŠØ± Ø§Ù„ØµÙØ­Ø§Øª =====
function showPage(id, el){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
</script>

<script>
  function updateStudentCount() {
  const table = document.getElementById("studentsTable");
  const rows = table.getElementsByTagName("tr");
  let total = 0;
  let active = 0;
  let inactive = 0;

  for (let i = 1; i < rows.length; i++) { // i=1 Ù„ØªØ¬Ø§Ù‡Ù„ ØµÙ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
    total++;
    const statusCell = rows[i].cells[4];
    if (statusCell.classList.contains("active")) active++;
    else if (statusCell.classList.contains("inactive")) inactive++;
  }

  document.getElementById("studentCount").textContent = total;
  document.getElementById("activeCount").textContent = active;
  document.getElementById("inactiveCount").textContent = inactive;
}
updateStudentCount(); // Ø¨Ø¹Ø¯ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ
updateStudentCount(); // Ø¨Ø¹Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©

window.addEventListener("load", function() {
  updateStudentCount();
});

</script>
<script>
function toggleStatus(btn){
  const row = btn.closest("tr");
  const statusCell = row.cells[3];

  if(statusCell.classList.contains("active")){
    statusCell.className = "status inactive";
    statusCell.textContent = "Ù…ÙˆÙ‚ÙˆÙ";
    btn.textContent = "Ù…ÙˆÙ‚ÙˆÙ";
    btn.className = "btn inactive-btn";
  } else {
    statusCell.className = "status active";
    statusCell.textContent = "Ù…Ù†ØªØ¸Ù…";
    btn.textContent = "Ù…Ù†ØªØ¸Ù…";
    btn.className = "btn active-btn";
  }

  row.cells[14].textContent = getNowDate();
  saveStudents();
  updateStudentCount();
}

function updateStudentCount(){
 let count = 0;
students.forEach(student => {
    if (selectedDept === 'Ø§Ù„ÙƒÙ„' || student.department === selectedDept) {
        // Ù‡Ù†Ø§ ØªØ¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø°ÙŠ ÙŠØ¶ÙŠÙ Ø§Ù„ØµÙ Ù„Ù„Ø¬Ø¯ÙˆÙ„
        count++;
    }
});
studentCount.textContent = count; // Ø¹Ø¯Ù‘ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ„ØªØ±

}

</script>

<script>
const idSearchInput = document.getElementById("idSearchInput");

idSearchInput.addEventListener("keyup", filterByUniversityId);

function filterByUniversityId(){
  const filterText = idSearchInput.value.toLowerCase();
  const table = document.getElementById("studentsTable");
  const trs = table.getElementsByTagName("tr");

  for(let i = 1; i < trs.length; i++){
    const tdId = trs[i].cells[0]; // Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ
    if(tdId){
      const match = tdId.textContent.toLowerCase().includes(filterText);
      trs[i].style.display = match ? "" : "none";
    }
  }
}
</script>
<script>
function addStudentFromRegister(){

  const form = document.getElementById("form");
  const inputs = form.querySelectorAll("input, select");

  const imageFile = inputs[0].files[0];

  const student = {
  image: "",
  id: inputs[1].value.trim(),
  name: inputs[2].value.trim(),
  faculty: inputs[3].value,
  department: inputs[4].value,
  birthPlace: inputs[5].value,
  birthDate: inputs[6].value,
  address: inputs[7].value,
  phone: inputs[8].value,
  mother: inputs[9].value,
  father: inputs[10].value,
  gender: inputs[11].value,   // âœ… Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ù„
  status: "active",
  createdAt: getNowDate(),
  updatedAt: "-"
};


  // ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ·
  if(!student.id || !student.name){
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ ÙˆØ§Ù„Ø§Ø³Ù…");
    return;
  }

  // Ø¥Ø°Ø§ ÙÙŠ ØµÙˆØ±Ø©
  if(imageFile){
    const reader = new FileReader();
    reader.onload = function(e){
      student.image = e.target.result;
      createStudentRow(student);
      saveStudents();
      updateStudentCount();
      form.reset();
      alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
    };
    reader.readAsDataURL(imageFile);
  }
  // Ø¨Ø¯ÙˆÙ† ØµÙˆØ±Ø©
  else{
    createStudentRow(student);
    saveStudents();
    updateStudentCount();
    form.reset();
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
  }
}
</script>



<!-- -------------------------edit -->

<script>
function editStudent(row){

  const editBtn = row.querySelector(".edit-btn");

  // ===== Ø­ÙØ¸ =====
  if(editBtn.dataset.mode === "edit"){

    for(let i of [4,5,6,7,8,9,10,11,12]){
      const input = row.cells[i].querySelector("input");
      if(input) row.cells[i].textContent = input.value;
    }

    row.cells[14].textContent = getNowDate(); // Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„
    editBtn.innerHTML = "âœï¸";
    editBtn.dataset.mode = "view";

    saveStudents();
    return;
  }

  // ===== ØªØ¹Ø¯ÙŠÙ„ =====
  for(let i of [4,5,6,7,8,9,10,11,12]){
    const text = row.cells[i].textContent;
    row.cells[i].innerHTML = `<input value="${text}" style="width:100%">`;
  }

  editBtn.innerHTML = "ğŸ’¾";
  editBtn.dataset.mode = "edit";
}
</script>


<script>
function createStudentRow(s){
  const table = document.getElementById("studentsTableAdmin");
  const row = table.insertRow(-1);

  // Ø§Ù„ØµÙˆØ±Ø©
  row.insertCell(0).innerHTML = s.image
    ? `<img src="${s.image}" style="width:40px;height:40px;border-radius:50%">`
    : "â€”";

  // Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ
  row.insertCell(1).textContent = s.id;

  // Ø§Ù„ØªØ­ÙƒÙ…
  const controlCell = row.insertCell(2);

  const statusBtn = document.createElement("button");
  statusBtn.textContent = s.status === "inactive" ? "Ù…ÙˆÙ‚ÙˆÙ" : "Ù…Ù†ØªØ¸Ù…";
  statusBtn.className = "btn " + (s.status === "inactive" ? "inactive-btn" : "active-btn");
  statusBtn.onclick = ()=> toggleStatus(statusBtn);

  const editBtn = document.createElement("button");
  editBtn.innerHTML = "âœï¸";
  editBtn.className = "edit-btn";
  editBtn.onclick = ()=> openEditStudent(row);

  const deleteBtn = document.createElement("button");
  deleteBtn.innerHTML = "ğŸ—‘ï¸";
  deleteBtn.className = "delete-btn";
  deleteBtn.onclick = ()=> deleteStudent(row);

  controlCell.append(statusBtn, editBtn, deleteBtn);

  // Ø§Ù„Ø­Ø§Ù„Ø©
  const statusCell = row.insertCell(3);
  statusCell.textContent = s.status === "inactive" ? "Ù…ÙˆÙ‚ÙˆÙ" : "Ù…Ù†ØªØ¸Ù…";
  statusCell.className = "status " + (s.status === "inactive" ? "inactive" : "active");

  row.insertCell(4).textContent = s.name;
  row.insertCell(5).textContent = s.faculty;
  row.insertCell(6).textContent = s.department;
  row.insertCell(7).textContent = s.birthPlace;
  row.insertCell(8).textContent = s.birthDate;
  row.insertCell(9).textContent = s.address;
  row.insertCell(10).textContent = s.phone;
  row.insertCell(11).textContent = s.mother;
  row.insertCell(12).textContent = s.father;
  row.insertCell(13).textContent = s.createdAt;
  row.insertCell(14).textContent = s.updatedAt;
  row.insertCell(15).textContent = s.gender || "-";

}

</script>




<script>
function refreshStudentsFeatures(){

  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  const rows = table.getElementsByTagName("tr");

  let total = 0, active = 0, inactive = 0;

  for(let i = 1; i < rows.length; i++){
    total++;

    const statusCell = rows[i].cells[4];
    if(statusCell.classList.contains("active")) active++;
    else if(statusCell.classList.contains("inactive")) inactive++;
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
  document.getElementById("studentCount").textContent = total;
  document.getElementById("activeCount").textContent = active;
  document.getElementById("inactiveCount").textContent = inactive;
}

/* ===== Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø±Ù‚Ù… Ù…Ø¹Ù‹Ø§ ===== */

  function unifiedSearch(){
  const nameVal = searchInput.value.toLowerCase();
  const idVal   = idSearchInput.value.toLowerCase();
  const statusVal = statusFilter.value;

  const table = document.getElementById("studentsTableAdmin");

  for(let i = 1; i < table.rows.length; i++){
    const row = table.rows[i];

    const idCell = row.cells[1];
    const nameCell = row.cells[4];
    const statusCell = row.cells[3];

    const matchId = idCell.textContent.toLowerCase().includes(idVal);
    const matchName = nameCell.textContent.toLowerCase().includes(nameVal);
    const matchStatus =
      statusVal === "all" ||
      (statusVal === "active" && statusCell.classList.contains("active")) ||
      (statusVal === "inactive" && statusCell.classList.contains("inactive"));

    row.style.display = (matchId && matchName && matchStatus) ? "" : "none";
  }

  updateStudentCount();
}


/* ===== Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ===== */
document.getElementById("searchInput")?.addEventListener("keyup", unifiedSearch);
document.getElementById("idSearchInput")?.addEventListener("keyup", unifiedSearch);
document.getElementById("statusFilter")?.addEventListener("change", unifiedSearch);
</script>

<script>
  function deleteStudent(row){
  if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ØŸ")) return;

  row.remove();          // Ø­Ø°Ù Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„
  saveStudents();        // ØªØ­Ø¯ÙŠØ« localStorage
  updateStudentCount();  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
}
</script>




<script>
function updateCounters(){
  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  const rows = table.getElementsByTagName("tr");

  let total = 0;
  let active = 0;
  let inactive = 0;

  for(let i = 1; i < rows.length; i++){
    // Ù†Ø­Ø³Ø¨ ÙÙ‚Ø· Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©
    if(rows[i].style.display === "none") continue;

    total++;
    const statusCell = rows[i].cells[4];

    if(statusCell.classList.contains("active")) active++;
    if(statusCell.classList.contains("inactive")) inactive++;
  }

  document.getElementById("studentCount").textContent = total;
  document.getElementById("activeCount").textContent = active;
  document.getElementById("inactiveCount").textContent = inactive;
}
</script>



<script>

function updateStudentCount(){
  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  let total = 0, active = 0, inactive = 0;

  for(let i = 1; i < table.rows.length; i++){
    const row = table.rows[i];
    if(row.style.display === "none") continue;

    total++;
    const statusCell = row.cells[3];

    if(statusCell.classList.contains("active")) active++;
    if(statusCell.classList.contains("inactive")) inactive++;
  }

  document.getElementById("studentCount").textContent = total;
  document.getElementById("activeCount").textContent = active;
  document.getElementById("inactiveCount").textContent = inactive;
}

</script>




<script>
function saveStudents(){
  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  const students = [];

  for(let i = 1; i < table.rows.length; i++){
    const r = table.rows[i];

    students.push({
      image: r.cells[0].querySelector("img")?.src || "",
      id: r.cells[1].textContent,
      status: r.cells[3].classList.contains("active") ? "active" : "inactive",
      name: r.cells[4].textContent,
      faculty: r.cells[5].textContent,
      department: r.cells[6].textContent,
      birthPlace: r.cells[7].textContent,
      birthDate: r.cells[8].textContent,
      address: r.cells[9].textContent,
      phone: r.cells[10].textContent,
      mother: r.cells[11].textContent,
      father: r.cells[12].textContent,
      createdAt: r.cells[13].textContent,
      updatedAt: r.cells[14].textContent,
      gender: r.cells[15].textContent,

    });
  }

  localStorage.setItem("studentsData", JSON.stringify(students));
}



function loadStudents(){
  const data = JSON.parse(localStorage.getItem("studentsData") || "[]");

  const table = document.getElementById("studentsTableAdmin");
  while(table.rows.length > 1){
    table.deleteRow(1);
  }

  data.forEach(student => createStudentRow(student));

  updateStudentCount();
}

window.addEventListener("load", loadStudents);

</script>



 <script>
    const table = document.getElementById("departmentsTable");

    function createEditButton(row) {
      const editCell = row.insertCell(3);
      const editBtn = document.createElement("button");
      editBtn.textContent = "ØªØ¹Ø¯ÙŠÙ„";

      editBtn.addEventListener("click", function() {
        const nameCell = row.cells[1];
        const facultyCell = row.cells[2];

        if (editBtn.textContent === "ØªØ¹Ø¯ÙŠÙ„") {
          nameCell.innerHTML = `<input type="text" value="${nameCell.textContent}">`;
          facultyCell.innerHTML = `<input type="text" value="${facultyCell.textContent}">`;
          editBtn.textContent = "Ø­ÙØ¸";
        } else {
          const newName = nameCell.querySelector("input").value.trim();
          const newFaculty = facultyCell.querySelector("input").value.trim();

          if (!newName || !newFaculty) {
            alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… ÙˆØ§Ù„ÙƒÙ„ÙŠØ©");
            return;
          }

          nameCell.textContent = newName;
          facultyCell.textContent = newFaculty;
          editBtn.textContent = "ØªØ¹Ø¯ÙŠÙ„";

          saveDepartments(); // << Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
        }
      });

      editCell.appendChild(editBtn);
    }

    function addDepartment() {
      const faculty = document.getElementById("facultySelect").value;
      const name = document.getElementById("departmentName").value.trim();

      if (!faculty || faculty === "Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©") {
        alert("Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹");
        return;
      }
      if (!name) {
        alert("Ø§Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…");
        return;
      }

      const row = table.insertRow(-1);
      const id = Date.now();

      row.insertCell(0).textContent = id;
      row.insertCell(1).textContent = name;
      row.insertCell(2).textContent = faculty;

      createEditButton(row);

      saveDepartments(); // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¶Ø§ÙØ©

      document.getElementById("departmentName").value = "";
      document.getElementById("facultySelect").selectedIndex = 0;
      alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­ âœ…");
    }

    function saveDepartments() {
      const data = [];
      for (let i = 1; i < table.rows.length; i++) {
        data.push({
          id: table.rows[i].cells[0].textContent,
          name: table.rows[i].cells[1].textContent,
          faculty: table.rows[i].cells[2].textContent
        });
      }
      localStorage.setItem("departmentsData", JSON.stringify(data));
    }

    function loadDepartments() {
      const data = JSON.parse(localStorage.getItem("departmentsData") || "[]");

      while (table.rows.length > 1) {
        table.deleteRow(1);
      }

      data.forEach(d => {
        const row = table.insertRow(-1);
        row.insertCell(0).textContent = d.id;
        row.insertCell(1).textContent = d.name;
        row.insertCell(2).textContent = d.faculty;
        createEditButton(row);
      });
    }

    document.getElementById("addBtn").addEventListener("click", addDepartment);
    window.addEventListener("load", loadDepartments);
  </script>


<!-- ---------------------------------- -->

<script>
function getNowDate(){
  const d = new Date();
  return d.toLocaleString("ar-EG");
}
</script>





<script>
/* ===== Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ÙÙ„ØªØ±Ø© ===== */
document.getElementById("statusFilter")?.addEventListener("change", fixCountersAfterFilter);
document.getElementById("searchInput")?.addEventListener("keyup", fixCountersAfterFilter);
document.getElementById("idSearchInput")?.addEventListener("keyup", fixCountersAfterFilter);

function fixCountersAfterFilter(){
  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  let total = 0;
  let active = 0;
  let inactive = 0;

  for(let i = 1; i < table.rows.length; i++){
    const row = table.rows[i];
   

    total++;

    if(statusCell.classList.contains("active")) active++;
    if(statusCell.classList.contains("inactive")) inactive++;
  }

  document.getElementById("studentCount").textContent = total;
  document.getElementById("activeCount").textContent = active;
  document.getElementById("inactiveCount").textContent = inactive;
}
</script>



<!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ -->
<div id="editModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:9999;">
  <div style="background:white; width:90%; max-width:600px; max-height:85vh; overflow-y:auto; padding:25px; border-radius:16px;">
    <h3 style="margin-bottom:20px">ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h3>

    <input id="editId" disabled placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ">
    <input id="editName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
    <input id="editFaculty" placeholder="Ø§Ù„ÙƒÙ„ÙŠØ©">
    <input id="editDepartment" placeholder="Ø§Ù„Ù‚Ø³Ù…">
    <input id="editBirthPlace" placeholder="Ù…ÙƒØ§Ù† Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©">
    <input id="editBirthDate" type="date">
    <input id="editAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
    <input id="editPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    <input id="editMother" placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ù…">
    <input id="editFather" placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ø¨">
    <input id="editgender" placeholder="Ø§Ù„Ø¬Ù†Ø³ ">

    <div class="edit-actions" style="display:flex; gap:10px; margin-top:15px">
      <button type="button" onclick="saveEditStudent()">Ø­ÙØ¸</button>
      <button type="button" onclick="closeEditModal()">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>
</div>

<script>
let currentEditRow = null;

function openEditStudent(row){
  currentEditRow = row;

  editId.value = row.cells[1].textContent;
  editName.value = row.cells[4].textContent;
  editFaculty.value = row.cells[5].textContent;
  editDepartment.value = row.cells[6].textContent;
  editBirthPlace.value = row.cells[7].textContent;
  editBirthDate.value = row.cells[8].textContent;
  editAddress.value = row.cells[9].textContent;
  editPhone.value = row.cells[10].textContent;
  editMother.value = row.cells[11].textContent;
  editFather.value = row.cells[12].textContent;

  document.getElementById("editModal").style.display = "flex"; // ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
}


function closeEditModal(){
  document.getElementById("editModal").style.display = "none";
  currentEditRow = null;
}


</script>



<script>
function saveEditStudent(){
  if(!currentEditRow) return;

  currentEditRow.cells[4].textContent  = editName.value;
  currentEditRow.cells[5].textContent  = editFaculty.value;
  currentEditRow.cells[6].textContent  = editDepartment.value;
  currentEditRow.cells[7].textContent  = editBirthPlace.value;
  currentEditRow.cells[8].textContent  = editBirthDate.value;
  currentEditRow.cells[9].textContent  = editAddress.value;
  currentEditRow.cells[10].textContent = editPhone.value;
  currentEditRow.cells[11].textContent = editMother.value;
  currentEditRow.cells[12].textContent = editFather.value;
  currentEditRow.cells[14].textContent = getNowDate(); // Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„

  saveStudents();
  updateStudentCount();
  closeEditModal();
}
</script>




<script>
function editFaculty(btn){
  const row = btn.closest("tr");

  // ===== Ø­ÙØ¸ =====
  if(btn.dataset.mode === "edit"){
    const nameInput = row.cells[0].querySelector("input");
    const deanInput = row.cells[1].querySelector("input");

    row.cells[0].textContent = nameInput.value;
    row.cells[1].textContent = deanInput.value;

    btn.innerHTML = "âœï¸";
    btn.dataset.mode = "view";

    saveFaculties(); // âœ… Ø­ÙØ¸ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
    return;
  }

  // ===== ØªØ¹Ø¯ÙŠÙ„ =====
  const name = row.cells[0].textContent;
  const dean = row.cells[1].textContent;

  row.cells[0].innerHTML = `<input value="${name}" style="width:100%">`;
  row.cells[1].innerHTML = `<input value="${dean}" style="width:100%">`;

  btn.innerHTML = "ğŸ’¾";
  btn.dataset.mode = "edit";
}
</script>



<script>
function saveFaculties(){
  const table = document.getElementById("facultiesTable");
  const data = [];

  for(let i = 1; i < table.rows.length; i++){
    data.push({
      name: table.rows[i].cells[0].textContent,
      dean: table.rows[i].cells[1].textContent
    });
  }

  localStorage.setItem("facultiesData", JSON.stringify(data));
}

function loadFaculties(){
  const data = JSON.parse(localStorage.getItem("facultiesData") || "[]");
  if(!data.length) return;

  const table = document.getElementById("facultiesTable");

  // Ø­Ø°Ù Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
  while(table.rows.length > 1){
    table.deleteRow(1);
  }

  data.forEach(f => {
    const row = table.insertRow(-1);
    row.insertCell(0).textContent = f.name;
    row.insertCell(1).textContent = f.dean;
    row.insertCell(2).innerHTML =
      `<button class="edit-btn" onclick="editFaculty(this)">âœï¸</button>`;
  });
}

// ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
window.addEventListener("load", loadFaculties);
</script>



<script>
function addStaff(){
  const name = staffName.value.trim();
  const uni  = staffUniversity.value.trim();
  const exp  = staffExperience.value.trim();

  if(!name || !uni || !exp){
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }

  createStaffRow({name, uni, exp});
  saveStaff();

  staffName.value = "";
  staffUniversity.value = "";
  staffExperience.value = "";
}

// ===== Ø¥Ù†Ø´Ø§Ø¡ ØµÙ =====
function createStaffRow(s){
  const table = document.getElementById("staffTable");
  const row = table.insertRow(-1);

  row.insertCell(0).textContent = s.name;
  row.insertCell(1).textContent = s.uni;
  row.insertCell(2).textContent = s.exp;

  const control = row.insertCell(3);

  const editBtn = document.createElement("button");
  editBtn.innerHTML = "âœï¸";
  editBtn.className = "edit-btn";
  editBtn.onclick = ()=> editStaff(editBtn);

  const delBtn = document.createElement("button");
  delBtn.innerHTML = "ğŸ—‘ï¸";
  delBtn.className = "delete-btn";
  delBtn.onclick = ()=>{
    if(confirm("Ø­Ø°Ù Ø§Ù„Ù…Ø¯Ø±Ø³ØŸ")){
      row.remove();
      saveStaff();
    }
  };

  control.append(editBtn, delBtn);
}

// ===== ØªØ¹Ø¯ÙŠÙ„ =====
function editStaff(btn){
  const row = btn.closest("tr");

  if(btn.dataset.mode === "edit"){
    for(let i=0;i<3;i++){
      row.cells[i].textContent = row.cells[i].querySelector("input").value;
    }
    btn.innerHTML = "âœï¸";
    btn.dataset.mode = "view";
    saveStaff();
    return;
  }

  for(let i=0;i<3;i++){
    row.cells[i].innerHTML = `<input value="${row.cells[i].textContent}" style="width:100%">`;
  }

  btn.innerHTML = "ğŸ’¾";
  btn.dataset.mode = "edit";
}

// ===== Ø­ÙØ¸ =====
function saveStaff(){
  const table = document.getElementById("staffTable");
  const data = [];

  for(let i=1;i<table.rows.length;i++){
    data.push({
      name: table.rows[i].cells[0].textContent,
      uni:  table.rows[i].cells[1].textContent,
      exp:  table.rows[i].cells[2].textContent
    });
  }

  localStorage.setItem("staffData", JSON.stringify(data));
}

// ===== ØªØ­Ù…ÙŠÙ„ =====
function loadStaff(){
  const data = JSON.parse(localStorage.getItem("staffData") || "[]");
  data.forEach(s => createStaffRow(s));
}

window.addEventListener("load", loadStaff);
</script>



<script>
const departmentFilter = document.getElementById("departmentFilter");

function unifiedSearchWithDepartment(){
  const nameVal   = searchInput.value.toLowerCase();
  const idVal     = idSearchInput.value.toLowerCase();
  const statusVal = statusFilter.value;
  const deptVal   = departmentFilter.value;

  const table = document.getElementById("studentsTableAdmin");
  if(!table) return;

  for(let i = 1; i < table.rows.length; i++){
    const row = table.rows[i];

    const idCell     = row.cells[1];
    const nameCell   = row.cells[4];
    const deptCell   = row.cells[6];
    const statusCell = row.cells[3];

    const matchId   = idCell.textContent.toLowerCase().includes(idVal);
    const matchName = nameCell.textContent.toLowerCase().includes(nameVal);

    const matchDept =
      deptVal === "all" ||
      deptCell.textContent === deptVal;

    const matchStatus =
      statusVal === "all" ||
      (statusVal === "active" && statusCell.classList.contains("active")) ||
      (statusVal === "inactive" && statusCell.classList.contains("inactive"));

    row.style.display =
      (matchId && matchName && matchDept && matchStatus) ? "" : "none";
  }

  updateStudentCount(); // âœ… Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
}

/* ===== Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ===== */
searchInput.addEventListener("keyup", unifiedSearchWithDepartment);
idSearchInput.addEventListener("keyup", unifiedSearchWithDepartment);
statusFilter.addEventListener("change", unifiedSearchWithDepartment);
departmentFilter.addEventListener("change", unifiedSearchWithDepartment);
</script>



<script>
function getCoursesSystem(){
  return JSON.parse(localStorage.getItem("coursesSystem") || "{}");
}

function saveCoursesSystem(data){
  localStorage.setItem("coursesSystem", JSON.stringify(data));
}
</script>


<script>
function addCourseSystem(){
  const dept = courseDept.value;
  const year = courseYear.value;
  const sem  = courseSemester.value;
  const name = courseName.value.trim();

  if(!dept || !year || !sem || !name){
    alert("Ø£Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }

  const data = getCoursesSystem();

  if(!data[dept]) data[dept] = {};
  if(!data[dept][year]) data[dept][year] = {};
  if(!data[dept][year][sem]) data[dept][year][sem] = [];

  data[dept][year][sem].push(name);

  saveCoursesSystem(data);
  renderCoursesSystem();

  courseName.value = "";
  courseDept.selectedIndex = 0;
  courseYear.selectedIndex = 0;
  courseSemester.selectedIndex = 0;

  alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø§Ø¯Ø© âœ…");
}
</script>



<script>
function renderCoursesSystem(){
  const container = document.getElementById("coursesContainer");
  if(!container) return;

  container.innerHTML = "";
  const data = getCoursesSystem();

  for(const dept in data){
 const deptCard = document.createElement("div");
 deptCard.className = "course-dept-card";
 deptCard.innerHTML = `<h2>${dept}</h2>`;



    for(const year in data[dept]){
     const yearBlock = document.createElement("div");
     yearBlock.className = "course-year";
     yearBlock.innerHTML = `<h3>${year}</h3>`;


      for(const sem in data[dept][year]){
       const semBlock = document.createElement("div");
       semBlock.className = "course-semester";
       semBlock.innerHTML = `<strong>${sem}</strong>`;

        const ul = document.createElement("ul");

        data[dept][year][sem].forEach((course, index)=>{
          const li = document.createElement("li");
          li.style.display = "flex";
          li.style.justifyContent = "space-between";
          li.style.alignItems = "center";

          li.innerHTML = `
            <span>${course}</span>
            <span>
              <button class="edit-btn" onclick="editCourse('${dept}','${year}','${sem}',${index})">âœï¸</button>
              <button class="delete-btn" onclick="deleteCourse('${dept}','${year}','${sem}',${index})">ğŸ—‘ï¸</button>
            </span>
          `;

          ul.appendChild(li);
        });

        semBlock.appendChild(ul);
        yearBlock.appendChild(semBlock);
      }

      deptCard.appendChild(yearBlock);
    }

    container.appendChild(deptCard);
  }
}
</script>

<script>
  function editCourse(dept, year, sem, index){
  const data = getCoursesSystem();
  const oldName = data[dept][year][sem][index];

  const newName = prompt("ØªØ¹Ø¯ÙŠÙ„ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©:", oldName);
  if(!newName) return;

  data[dept][year][sem][index] = newName.trim();
  saveCoursesSystem(data);
  renderCoursesSystem();
}

function deleteCourse(dept, year, sem, index){
  if(!confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ")) return;

  const data = getCoursesSystem();
  data[dept][year][sem].splice(index,1);

  saveCoursesSystem(data);
  renderCoursesSystem();
}
</script>
<script>
window.addEventListener("load", renderCoursesSystem);
</script>

</body>
</html>   